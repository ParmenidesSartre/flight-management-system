language: node_js
node_js:
  - '12'
services:
  - mongodb
cache: npm
branches:
  only:
    - main
script:
  - npm lint
  - npm test
after_success: npm coverage:coveralls